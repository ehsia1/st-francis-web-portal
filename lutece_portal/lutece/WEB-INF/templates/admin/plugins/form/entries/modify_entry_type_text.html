 <#include "/admin/util/editor/editor.html" />
<div class="row">
	<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
		<fieldset>
		<legend>#i18n{form.modifyEntry.titleQuestion} : '${form.title}'</legend>
			<form class="form-horizontal" action="jsp/admin/plugins/form/DoModifyEntry.jsp#list" method="post" name="" id=""  >
			<input name="id_entry" value="${entry.idEntry}" type="hidden" />
			<div class="form-group">
				<label class="control-label col-xs-12 col-sm-12 col-md-3 col-lg-3" for="title">#i18n{form.createEntry.labelTitle} * : </label>
				<div class="col-xs-12 col-sm-12 col-md-9 col-lg-9">
					<input type="text" class="form-control input-sm" name="title" id="title" value="${entry.title}"  maxlength="255" />
					<span class="help-block">#i18n{form.createEntry.labelTitleComment}</span>
				</div>
			</div>
			<div class="form-group">
				<label class="control-label col-xs-12 col-sm-12 col-md-3 col-lg-3" for="help_message">#i18n{form.createEntry.labelHelpMessage} : </label>
				<div class="col-xs-12 col-sm-12 col-md-9 col-lg-9">
					<textarea name="help_message" id="help_message" rows="2" class="form-control input-sm">${entry.helpMessage}</textarea>
					<span class="help-block">#i18n{form.createEntry.labelHelpMessageComment}</span>
				</div>
			</div>
			<div class="form-group">
				<label class="control-label col-xs-12 col-sm-12 col-md-3 col-lg-3" for="comment"> #i18n{form.createEntry.labelComment} : </label>
				<div class="col-xs-12 col-sm-12 col-md-9 col-lg-9">
					<textarea name="comment" rows="2" class="form-control input-sm">${entry.comment}</textarea>
				</div>
			</div>
			<div class="form-group">
				<label class="control-label col-xs-12 col-sm-12 col-md-3 col-lg-3" for="">#i18n{form.createEntry.labelType} : </label>
				<div class="col-xs-12 col-sm-12 col-md-9 col-lg-9">
					<p class="form-control-static">${entry.entryType.title}</p>
				</div>
			</div>
			<div class="form-group">
				<label class="control-label col-xs-12 col-sm-12 col-md-3 col-lg-3" for="value">#i18n{form.createEntry.labelValueDefault} </label>
				<#list entry.fields as field>
					<div class="col-xs-12 col-sm-12 col-md-9 col-lg-9">
						<input type="text" class="form-control input-sm" name="value" id="value" value="${field.value}"/>
					</div>
				</#list>
			</div>
			<div class="form-group">
				<label class="control-label col-xs-12 col-sm-12 col-md-3 col-lg-3" for="">#i18n{form.createEntry.labelMandatory} :</label>
				<div class="col-xs-12 col-sm-12 col-md-9 col-lg-9">
					<div class="checkbox">
						<label>
							<input name="mandatory" value="1" type="checkbox" <#if entry.mandatory>checked="checked" </#if> />&#160;
						</label>
					</div>
				</div>
			</div>
			<div class="form-group">
				<label class="control-label col-xs-12 col-sm-12 col-md-3 col-lg-3" for="errorMessage"> #i18n{form.createEntry.labelMandatoryErrorMessage} : </label>
				<div class="col-xs-12 col-sm-12 col-md-9 col-lg-9">
					<textarea name="errorMessage" rows="2" class="form-control input-sm">${entry.errorMessage!}</textarea>
					<span class="help-block">#i18n{form.createEntry.labelMandatoryErrorMessageHelp}</span>
				</div>
			</div>
			<div class="form-group">
			<label class="control-label col-xs-12 col-sm-12 col-md-3 col-lg-3" for="width">#i18n{form.createEntry.labelWidth} * : </label>
				<#list entry.fields as field>
				<div class="col-xs-12 col-sm-12 col-md-9 col-lg-9">
					<input type="text" class="form-control input-sm" name="width" id="width" value="${field.width}">
				</div>
				<#assign id_field=field.idField> 
				</#list>
			</div>
			<div class="form-group">
			<label class="control-label col-xs-12 col-sm-12 col-md-3 col-lg-3" for="max_size_enter">#i18n{form.createEntry.labelMaxSizeEnter} : </label>
				<div class="col-xs-12 col-sm-12 col-md-9 col-lg-9">
				<#list entry.fields as field>
					<#if field.maxSizeEnter!=-1>
						<input type="text" class="form-control input-sm" name="max_size_enter" id="max_size_enter" size="5" value="${field.maxSizeEnter}">
					<#else>
						<input type="text" class="form-control input-sm" name="max_size_enter" id="max_size_enter" size="5" value="">
					</#if>	
				</div>
			</div>
			</#list>	
			
			<div class="form-group">
			<label class="control-label col-xs-12 col-sm-12 col-md-3 col-lg-3" for="">&nbsp; </label>
				<div class="col-xs-12 col-sm-12 col-md-9 col-lg-9">
					<div class="checkbox">
						<label for="confirm_field">
							<input name="confirm_field" id="confirm_field" value="1" type="checkbox" onchange="javascript:changeVisilityConfirmFieldTitle();" <#if entry.confirmField> checked="checked"</#if>/>
							#i18n{form.createEntry.labelConfirmField}
						</label>
					</div>
				</div>
			</div>
			<div class="form-group">
				<label class="control-label col-xs-12 col-sm-12 col-md-3 col-lg-3" for="confirm_field_title">#i18n{form.createEntry.labelConfirmFieldTitle} *</label>
				 <div class="col-xs-12 col-sm-12 col-md-9 col-lg-9">
					<input type="text" class="form-control input-sm" name="confirm_field_title" id="confirm_field_title" value="${entry.confirmFieldTitle!}"  maxlength="255">
				</div>
			</div>
			<div class="form-group">
			<label class="control-label col-xs-12 col-sm-12 col-md-3 col-lg-3" for="">&nbsp;</label>
				 <div class="col-xs-12 col-sm-12 col-md-9 col-lg-9">
					<div class="checkbox">
						<label for="unique_field">
							<input name="unique_field" id="unique_field" value="1" type="checkbox" <#if entry.unique>checked="checked" </#if> /> 
							#i18n{form.createEntry.labelUniqueField}
						</label>
					</div>
				</div>
			</div>
			<div class="form-group">
			<label class="control-label col-xs-12 col-sm-12 col-md-3 col-lg-3" for="css_class">#i18n{form.createEntry.labelCSSClass} : </label>
				<div class="col-xs-12 col-sm-12 col-md-9 col-lg-9">
					<input type="text" class="form-control input-sm" name="css_class" value="${entry.CSSClass!}" maxlength="255">
					<span class="help-block">#i18n{form.createEntry.labelCSSClassComment}</span>
				</div>
			</div>
			<div class="form-group">
				<div class="col-xs-12 col-sm-offset-3 col-md-offset-3 col-lg-offset-3 col-sm-6 col-md-6 col-lg-6">
					<button class="btn btn-primary btn-sm btn-flat" name="save" type="submit">
						<i class="glyphicon glyphicon-ok"></i>&nbsp;#i18n{form.modifyEntry.buttonSave}
					</button>
					<button class="btn btn-primary btn-sm btn-flat" name="apply" type="submit">
						<i class="glyphicon glyphicon-ok-circle"></i>&nbsp;#i18n{form.modifyEntry.buttonApply}
					</button>
					<a class="btn btn-default btn-sm btn-flat" type="button" href="jsp/admin/plugins/form/ModifyForm.jsp?id_form=${form.idForm}&plugin_name=form" >
					<i class="glyphicon glyphicon-remove-circle"></i>&nbsp;#i18n{form.createEntry.buttonCancel}
				</a>
				</div>
			</div>
			</form>
		</fieldset>
		<#if regular_expression_list?exists>
		<fieldset> 
		<legend>#i18n{form.createEntry.manageRegularExpression.title}</legend>
			<div class="well">
				<form class="form-horizontal"  method="post"  action="jsp/admin/plugins/form/DoInsertVerification.jsp#list">
					<input name="id_field" value="${id_field}" type="hidden" />
					<div class="form-group">
					<label class="control-label col-xs-12 col-sm-12 col-md-3 col-lg-3" for="id_expression">#i18n{form.createEntry.manageRegularExpression.labelInsert} :</label>
						<div class="col-xs-12 col-sm-9 col-md-9 col-lg-9">
							<@combo name="id_expression"  items=regular_expression_list default_value=-1 /><button class="btn btn-primary btn-xs btn-flat" type="submit" >#i18n{form.createEntry.manageRegularExpression.buttonInsert}</button>
							<span class="help-block">#i18n{form.createEntry.manageRegularExpression.labelInsertComment}</span>
						</div>
					</div>
				</form>
				<a name="list" id="list"></a>
				<table class="table table-striped">
					<tr> 
						<th>#i18n{form.createEntry.manageRegularExpression.rowTitle}</th>
						<th>#i18n{form.createEntry.manageRegularExpression.rowInformationMessage}</th>
						<th>#i18n{form.createEntry.manageRegularExpression.rowValidExemple}</th>
						<th>#i18n{form.createEntry.manageField.rowActions}</th>
					</tr>
					<#list list as field>
						<#list field.regularExpressionList as expression>
							<tr>
								<td>${expression.title}</td>
								<td>${expression.informationMessage}</td>
								<td>${expression.validExemple}</td>
								<td>
									<a class="btn btn-danger btn-xs btn-flat" href="jsp/admin/plugins/form/DoRemoveVerification.jsp?id_expression=${expression.idExpression}&id_field=${id_field}#list"  title="#i18n{form.createEntry.manageField.titleDelete}" >
										<i class="glyphicon glyphicon-trash"></i>
									</a>
								</td>
							</tr>
						</#list>
					</#list> 
				</table>
			</div>
		</#if>
		</fieldset>
	</div>
</div>
<script type="text/javascript">
function changeVisilityConfirmFieldTitle(){
if(document.getElementById("confirm_field").checked){
		document.getElementById("confirm_field_title_p").style.display = 'block';
	} else {
		document.getElementById("confirm_field_title_p").style.display = 'none';
	}
} 
changeVisilityConfirmFieldTitle();
</script>
<@initEditor />